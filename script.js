// Data produk
window.products = [
  {
    id: 1,
    name: "Nike Initiator",
    type: "Women's Shoes",
    price: 1299000,
    img: "https://static.nike.com/a/images/t_web_pw_592_v2/f_auto/03d1dbf7-a157-4a0a-9fc3-7ac4868aeac3/WMNS+NIKE+INITIATOR.png",
    desc: "Put in miles with the comfortable support of the Nike Initiator. It has a breathable upper with a soft, cushioned design that helps you hit your stride with confidence.",
  },
  {
    id: 2,
    name: "Nike Air Max Plus III",
    type: "Men's Shoes",
    price: 2989000,
    img: "https://static.nike.com/a/images/t_web_pw_592_v2/f_auto/disuwww5uxkqulu2aivh/AIR+MAX+PLUS+III.png",
    desc: "The Nike Air Max Plus III combines ultra-comfortable Tuned Air Technology with an energetic silhouette made famous by its predecessors. The III updates the look with TPU details fused to the upper while paying homage to the iconic colour fade.",
  },
  {
    id: 3,
    name: "Nike Court Legacy Lift",
    type: "Women's Shoes",
    price: 1249000,
    img: "https://static.nike.com/a/images/t_web_pw_592_v2/f_auto/335df20a-585f-42fa-96da-5d824d9d59bc/WMNS+NIKE+COURT+LEGACY+LIFT.png",
    desc: "Elevate your style with the Nike Court Legacy Lift. Its platform midsole delivers a bold statement on top of the classic, easy-to-wear design. And don't worry, we've kept the fit you love.",
  },
  {
    id: 4,
    name: "Nike Court Legacy Nike Zoom Vomero 5 SE",
    type: "Man's Shoes",
    price: 2669000,
    img: "https://static.nike.com/a/images/t_web_pw_592_v2/f_auto/abbc2d6e-05e7-4c9c-9060-3bbd090a1136/NIKE+ZOOM+VOMERO+5+SE.png",
    desc: "Carve a new lane for yourself in the Zoom Vomero 5—your go-to for complexity, depth and easy styling. The richly layered design includes textiles, synthetic leather and plastic accents that come together to make one of the coolest sneakers of the season.",
  },
  {
    id: 5,
    name: "Nike Air Max Plus G x Eastside",
    type: "Man's Shoes",
    price: 3229000,
    img: "https://static.nike.com/a/images/t_web_pw_592_v2/f_auto/e655f8d9-039f-476c-b17c-e65b8f816041/NIKE+AIR+MAX+PLUS+G+NRG.png",
    desc: "Nike and Eastside Golf's 'Take Flight' collection symbolises golf and community rising higher together, breaking new boundaries and setting new standards for what the sport can be. The Air Max Plus G x Eastside Golf features a spikeless integrated traction that performs just as well on the course as it does in the city. The iconic TPU cage spells out 'Eastside Golf' while the logo on the tongue label adds a special nod.",
  },
  {
    id: 6,
    name: "Nike Air Force 1 '07 LV8",
    type: "Man's Shoes",
    price: 1909000,
    img: "https://static.nike.com/a/images/t_web_pw_592_v2/f_auto/1a9c5203-6709-4c5b-a43c-56c20e7486d0/AIR+FORCE+1+%2707+LV8.png",
    desc: "Comfortable, durable and timeless—it's number one for a reason. The classic '80s construction is paired with premium materials for style that tracks whether you're on court or on the go.",
  },
  {
    id: 7,
    name: "Nike Shox R4",
    type: "Man's Shoes",
    price: 2379000,
    img: "https://static.nike.com/a/images/t_web_pw_592_v2/f_auto/8507bfd1-93ca-43dd-9e34-dd6c30afc7f1/NIKE+SHOX+R4.png",
    desc: "A recrafted version of the early 2000s icon, the Nike Shox R4 replicates the original with its futuristic design lines and performance-like cushioning. Nike Shox columns in the heel distribute weight to maximise comfort while providing a bold look on the streets.",
  },
  {
    id: 8,
    name: "Nike Air Max Plus",
    type: "Man's Shoes",
    price: 2489000,
    img: "https://static.nike.com/a/images/t_web_pw_592_v2/f_auto/c73892c7-ca76-4059-8d91-1a6e8098cea8/NIKE+AIR+MAX+PLUS.png",
    desc: "Let your attitude have the edge in the Air Max Plus. Its iconic caging adds heat to your look while airy mesh keeps you cool. And the visible cushioning lets you celebrate your defiant style in comfort.",
  },
  {
    id: 9,
    name: "Nike Dunk Low Retro",
    type: "Man's Shoes",
    price: 1549000,
    img: "https://static.nike.com/a/images/t_web_pw_592_v2/f_auto/f26ecf51-7c6b-40b0-8514-f056934a375e/NIKE+DUNK+LOW+RETRO.png",
    desc: "You can always count on a classic. The Dunk Low pairs its iconic colour-blocking with premium materials and plush padding for game-changing comfort that lasts. The possibilities are endless—how will you wear your Dunks?",
  },
  {
    id: 10,
    name: "Nike C1TY Premium CORDURA®",
    type: "Man's Shoes",
    price: 1729000,
    img: "https://static.nike.com/a/images/t_web_pw_592_v2/f_auto/cfa06271-2153-4c9d-93a8-c9eff6d4e50d/NIKE+C1TY+PRM.png",
    desc: "Nike C1TY is engineered to overcome anything the city throws your way. A CORDURA® upper keeps the fit breathable, while the reinforced sides and toe box help protect your feet from the elements. Each colourway has been inspired by the spirit of city life—giving street style a whole new meaning.",
  },
  {
    id: 11,
    name: "Nike Alphafly 3",
    type: "Women's Shoes",
    price: 4089000,
    img: "https://static.nike.com/a/images/t_web_pw_592_v2/f_auto/5cb0535c-ce52-45c3-bde1-8dad17e5022c/W+AIR+ZOOM+ALPHAFLY+NEXT%25+3.png",
    desc: "Fine-tuned for marathon speed, the Alphafly 3 helps push you beyond what you thought possible. Three innovative technologies power your run: a double dose of Air Zoom units helps launch you into your next step; a full-length carbon-fibre plate helps propel you forwards with ease; and a heel-to-toe ZoomX foam midsole helps keep you fresh from start to 26.2. Time to leave your old personal records in the dust.",
  },
  {
    id: 12,
    name: "Nike Vomero 18",
    type: "Women's Shoes",
    price: 2249000,
    img: "https://static.nike.com/a/images/t_web_pw_592_v2/f_auto/6d1a0f85-ce1a-4098-943a-b4757eb349f0/W+NIKE+VOMERO+18.png",
    desc: "Maximum cushioning in the Vomero provides a comfortable ride for everyday runs. Our softest, most cushioned ride has lightweight ZoomX foam stacked on top of responsive ReactX foam in the midsole. Plus, a redesigned traction pattern offers a smooth heel-to-toe transition.",
  },
  {
    id: 13,
    name: "Nike V2K Run",
    type: "Women's Shoes",
    price: 1909000,
    img: "https://static.nike.com/a/images/t_web_pw_592_v2/f_auto/9e9ce246-bbe7-475f-b3de-c84199d1d905/W+NIKE+V2K+RUN.png",
    desc: "The V2K is a look pulled straight from an early 2000s running catalogue. The chunky midsole and layered materials add a perfectly vintage touch. And although the extra-cushioned heel looks like a throwback, the comfort is all modern.",
  },
  {
    id: 14,
    name: "Nike Air Force 1 '07 Vintage",
    type: "Women's Shoes",
    price: 1909000,
    img: "https://static.nike.com/a/images/t_web_pw_592_v2/f_auto/988a79be-5cee-46cf-8502-d1329aded4ac/W+AIR+FORCE+1+%2707+VINTAGE.png",
    desc: "Comfortable, durable and timeless—it's number one for a reason. This Air Force 1 pairs full-grain leather and velvet laces for durability with a delicate finish.",
  },
  {
    id: 15,
    name: "Nike Dunk Low",
    type: "Women's Shoes",
    price: 1599000,
    img: "https://static.nike.com/a/images/t_web_pw_592_v2/f_auto/99120a42-1aba-4630-ab54-3362666e3714/W+NIKE+DUNK+LOW+NEXT+NATURE.png",
    desc: "You can always count on a classic. The Dunk Low pairs its iconic colour-blocking with premium materials and plush padding for game-changing comfort that lasts. The styling possibilities are endless—how will you wear your Dunks?",
  },
  {
    id: 16,
    name: "Nike Dunk Low Women's Artist",
    type: "Women's Shoes",
    price: 2489000,
    img: "https://static.nike.com/a/images/t_web_pw_592_v2/f_auto/1cace6b0-369a-40c5-8dcc-76a0741a2a06/W+NIKE+DUNK+LOW.png",
    desc: "Nike and SUSAN FANG have come together to create an elegant and surprising Dunk Low, rooted in Fang's admiration for beauty and the instinctive allure of nature. Synthetic leather is mixed with jacquard textiles featuring Fang's original designs. Together, the materials create a stunning backdrop for the ethereal 3D floral embellishments, highlighting the elite craftsmanship and artisanal skill for which SUSAN FANG is known.",
  },
];

// ========== CART FUNCTIONS ==========

// Get cart dari localStorage
function getCart() {
  const cart = localStorage.getItem("kickslabCart");
  return cart ? JSON.parse(cart) : [];
}

// Save cart ke localStorage
function saveCart(cart) {
  localStorage.setItem("kickslabCart", JSON.stringify(cart));
}

// Add to cart
function addToCart(id) {
  const cart = getCart();
  const existingItem = cart.find((item) => item.id === id);

  if (existingItem) {
    existingItem.quantity += 1;
  } else {
    cart.push({ id: id, quantity: 1 });
  }

  saveCart(cart);
  alert("Product successfully added to cart!");
  updateCartCount();
}

// Remove from cart
function removeFromCart(id) {
  let cart = getCart();
  cart = cart.filter((item) => item.id !== id);
  saveCart(cart);
  if (typeof renderCart === "function") {
    renderCart();
  }
}

// Update quantity
function updateQuantity(id, quantity) {
  const cart = getCart();
  const item = cart.find((item) => item.id === id);

  if (item) {
    item.quantity = parseInt(quantity);
    if (item.quantity <= 0) {
      removeFromCart(id);
    } else {
      saveCart(cart);
      if (typeof renderCart === "function") {
        renderCart();
      }
    }
  }
}

// Get cart count
function getCartCount() {
  const cart = getCart();
  return cart.reduce((total, item) => total + item.quantity, 0);
}

// Update cart count badge (jika ada)
function updateCartCount() {
  const badge = document.getElementById("cart-count");
  if (badge) {
    const count = getCartCount();
    badge.textContent = count;
    badge.style.display = count > 0 ? "inline" : "none";
  }
}

// Calculate total
function calculateTotal() {
  const cart = getCart();
  let total = 0;

  cart.forEach((item) => {
    const product = window.products.find((p) => p.id === item.id);
    if (product) {
      total += product.price * item.quantity;
    }
  });

  return total;
}
